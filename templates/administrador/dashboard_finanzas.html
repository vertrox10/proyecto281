{% extends 'administrador/base.html' %}
{% block title %}Dashboard Finanzas{% endblock %}
{% block content %}
<div class="dashboard-container">
  <h1>Control de ingresos y gastos de negocio</h1>

  <div class="summary-boxes">
    <div class="box ingreso">
      <h3>Total Ingresos</h3>
      <p>$193,078</p>
    </div>
    <div class="box gasto">
      <h3>Total Gastos</h3>
      <p>$86,400</p>
    </div>
    <div class="box utilidad">
      <h3>Utilidad</h3>
      <p>$106,678</p>
    </div>
  </div>

  <div class="charts-section">
    <div class="chart-box">
      <h3>Ingreso por Categor√≠a</h3>
      <canvas id="pieChart"></canvas>
    </div>
    <div class="chart-box">
      <h3>Top 5 Ingresos</h3>
      <canvas id="barChart"></canvas>
    </div>
  </div>
</div>

<style>
.dashboard-container {
  padding: 20px;
}
.summary-boxes {
  display: flex;
  gap: 20px;
  margin-bottom: 30px;
}
.box {
  flex: 1;
  background-color: #f5f5f5;
  border-radius: 8px;
  padding: 20px;
  text-align: center;
}
.box h3 {
  margin-bottom: 10px;
}
.box.ingreso { border-left: 6px solid #28a745; }
.box.gasto { border-left: 6px solid #dc3545; }
.box.utilidad { border-left: 6px solid #007bff; }

.charts-section {
  display: flex;
  gap: 40px;
  flex-wrap: wrap;
}
.chart-box {
  flex: 1;
  min-width: 400px;
}
</style>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const pieCtx = document.getElementById('pieChart').getContext('2d');
new Chart(pieCtx, {
  type: 'pie',
  data: {
    labels: ['Ventas', 'Financieros', 'Rentas', 'Franquicias'],
    datasets: [{
      data: [50, 21, 11, 18],
      backgroundColor: ['#007bff', '#28a745', '#ffc107', '#17a2b8']
    }]
  }
});

const barCtx = document.getElementById('barChart').getContext('2d');
new Chart(barCtx, {
  type: 'bar',
  data: {
    labels: ['Dividendos', 'Ingreso por renta', 'Franquicias', 'Intereses', 'Comisiones'],
    datasets: [{
      label: 'Monto ($)',
      data: [41452, 40050, 33510, 28682, 27282],
      backgroundColor: '#007bff'
    }]
  },
  options: {
    scales: {
      y: { beginAtZero: true }
    }
  }
});
</script>
{% endblock %}