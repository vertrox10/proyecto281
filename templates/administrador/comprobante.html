{% extends 'administrador/base.html' %}
{% block title %}Comprobantes{% endblock %}
{% block content %}
<div class="header" style="display: flex; align-items: center; gap: 18px;">
    <h1 style="margin:0;">Comprobantes de Pago</h1>
    <span style="margin-left:auto;"></span>
</div>

<table class="styled-table">
  <thead>
    <tr>
      <th>ID</th>
      <th>Empleado</th>
      <th>Monto</th>
      <th>Método</th>
      <th>Transacción</th>
      <th>Fecha</th>
      <th>Estado</th>
      <th>Acción</th>
    </tr>
  </thead>
  <tbody>
    {% for c in comprobantes %}
    <tr>
      <td>{{ c[0] }}</td>
      <td>{{ c[1] }} {{ c[2] }}</td>
      <td><span class="monto">Bs {{ c[3] }}</span></td>
      <td>
        <span class="metodo-pago {% if c[4] == 'transferencia' %}transferencia{% elif c[4] == 'efectivo' %}efectivo{% endif %}">
          {{ c[4] }}
        </span>
      </td>
      <td>
        {% if c[5] and c[5] != 'None' %}
          <span class="codigo-transaccion">{{ c[5] }}</span>
        {% else %}
          <span class="sin-transaccion">Sin código</span>
        {% endif %}
      </td>
      <td>
        <span class="estado {% if c[6] == 'completado' or c[6] == 'aprobado' %}estado-completado{% else %}estado-pendiente{% endif %}">
          {{ c[6] }}
        </span>
      </td>
      <td>{{ c[7] }}</td>
      <td><a href="{{ url_for('admin.ver_comprobante', id_pago=c[0]) }}" class="btn-ver">Ver</a></td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<style>
.styled-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
  font-size: 15px;
  background-color: #fff;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}
.styled-table th, .styled-table td {
  padding: 12px 15px;
  border-bottom: 1px solid #eaeaea;
  text-align: left;
}
.styled-table th {
  background-color: #007bff;
  color: white;
  font-weight: 600;
  text-transform: uppercase;
  font-size: 14px;
  letter-spacing: 0.5px;
}
.styled-table tr:hover {
  background-color: #f8f9fa;
  transition: background-color 0.2s ease;
}
.styled-table tr:last-child td {
  border-bottom: none;
}

/* Estilos para los montos */
.monto {
  font-weight: 600;
  color: #2c5aa0;
}

/* Estilos para métodos de pago */
.metodo-pago {
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 13px;
  font-weight: 500;
  text-transform: capitalize;
}
.metodo-pago.transferencia {
  background-color: #e3f2fd;
  color: #1565c0;
}
.metodo-pago.efectivo {
  background-color: #e8f5e9;
  color: #2e7d32;
}

/* Estilos para códigos de transacción */
.codigo-transaccion {
  font-family: 'Courier New', monospace;
  font-size: 13px;
  color: #666;
}
.sin-transaccion {
  font-style: italic;
  color: #999;
  font-size: 13px;
}

/* Estilos para estados */
.estado {
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 13px;
  font-weight: 500;
  text-transform: capitalize;
}
.estado-completado {
  background-color: #e8f5e9;
  color: #2e7d32;
}
.estado-pendiente {
  background-color: #fff3e0;
  color: #ef6c00;
}

/* Estilos para botón Ver */
.btn-ver {
  background-color: #28a745;
  color: white;
  padding: 6px 12px;
  border-radius: 4px;
  text-decoration: none;
  font-weight: 500;
  display: inline-block;
  transition: all 0.2s ease;
  text-align: center;
  min-width: 60px;
}
.btn-ver:hover {
  background-color: #218838;
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

/* Responsive */
@media (max-width: 768px) {
  .styled-table {
    font-size: 14px;
  }
  .styled-table th, .styled-table td {
    padding: 10px 8px;
  }
  .btn-ver {
    padding: 5px 10px;
    font-size: 13px;
  }
}
</style>
{% endblock %}